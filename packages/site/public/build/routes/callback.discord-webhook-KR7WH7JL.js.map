{
  "version": 3,
  "sources": ["empty-module:~/auth-discord-webhook.server", "../../../app/routes/callback.discord-webhook.tsx"],
  "sourcesContent": ["module.exports = {};", "// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\routes\\\\\\\\callback.discord-webhook.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\routes\\\\callback.discord-webhook.tsx\");\n  import.meta.hot.lastModified = \"1702866628685.4265\";\n}\n// REMIX HMR END\n\nimport { useLoaderData } from \"@remix-run/react\";\nimport { useEffect } from \"react\";\nimport { getDiscordWebhookAuth } from \"~/auth-discord-webhook.server\";\nconst strings = {\n  created: \"Webhook Created\",\n  failed: \"Failed to create webhook\",\n  subtitle: \"You should be returned to the editor shortly.\"\n};\nexport const loader = async ({\n  request,\n  context\n}) => {\n  const search = new URL(request.url).searchParams;\n  if (search.get(\"error\")) {\n    return {\n      error: search.get(\"error_description\") ?? search.get(\"error\"),\n      webhook: null\n    };\n  }\n  const webhook = await getDiscordWebhookAuth(context).authenticate(\"discord\", request);\n  return {\n    error: null,\n    webhook\n  };\n};\nexport default function CreateWebhookPopup() {\n  _s();\n  const {\n    error,\n    webhook\n  } = useLoaderData();\n  useEffect(() => {\n    if (window.opener) {\n      if (webhook) {\n        window.opener.handlePopupClose(webhook);\n      }\n      window.close();\n    }\n  }, [webhook]);\n  return <div className=\"h-full flex\">\r\n      <div className=\"m-auto p-2 bg-gray-300 max-w-4xl\">\r\n        <p className=\"font-medium text-lg\">\r\n          {error ? strings.failed : strings.created}\r\n        </p>\r\n        {error && <p className=\"italic\">{error}</p>}\r\n        <p>{strings.subtitle}</p>\r\n      </div>\r\n    </div>;\n}\n_s(CreateWebhookPopup, \"BKqp9T5MAaxe8afjlhmgVbOOME0=\", false, function () {\n  return [useLoaderData];\n});\n_c = CreateWebhookPopup;\nvar _c;\n$RefreshReg$(_c, \"CreateWebhookPopup\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,WAAO,UAAU,CAAC;AAAA;AAAA;;;ACsBlB,IAAAA,gBAA0B;AAC1B,kCAAsC;AAuC9B;AA7DR,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,oDAAsD,EAAE;AAAA,EACjG;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAMN,IAAI,KAAK,aAAa;AAEtB,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAA2C;AAC3C,cAAY,IAAI,eAAe;AACjC;AAMA,IAAM,UAAU;AAAA,EACd,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,UAAU;AACZ;AAkBe,SAAR,qBAAsC;AAC3C,KAAG;AACH,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,EACF,IAAI,cAAc;AAClB,+BAAU,MAAM;AACd,QAAI,OAAO,QAAQ;AACjB,UAAI,SAAS;AACX,eAAO,OAAO,iBAAiB,OAAO;AAAA,MACxC;AACA,aAAO,MAAM;AAAA,IACf;AAAA,EACF,GAAG,CAAC,OAAO,CAAC;AACZ,SAAO,mDAAC,SAAI,WAAU,eAClB,6DAAC,SAAI,WAAU,oCACb;AAAA,uDAAC,OAAE,WAAU,uBACV,kBAAQ,QAAQ,SAAS,QAAQ,WADpC;AAAA;AAAA;AAAA;AAAA,WAEA;AAAA,IACC,SAAS,mDAAC,OAAE,WAAU,UAAU,mBAAvB;AAAA;AAAA;AAAA;AAAA,WAA6B;AAAA,IACvC,mDAAC,OAAG,kBAAQ,YAAZ;AAAA;AAAA;AAAA;AAAA,WAAqB;AAAA,OALvB;AAAA;AAAA;AAAA;AAAA,SAMA,KAPG;AAAA;AAAA;AAAA;AAAA,SAQL;AACJ;AACA,GAAG,oBAAoB,gCAAgC,OAAO,WAAY;AACxE,SAAO,CAAC,aAAa;AACvB,CAAC;AACD,KAAK;AACL,IAAI;AACJ,aAAa,IAAI,oBAAoB;AAErC,OAAO,eAAe;AACtB,OAAO,eAAe;",
  "names": ["import_react"]
}
